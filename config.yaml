# ======================================================
# SpecLens-PML Configuration
# ======================================================
#
# Central configuration file for the SpecLens-PML project.
#
# This file defines:
#
# - Candidate model families (baseline + challenger)
# - Operational risk thresholds for inference
# - Continuous Training governance policies
#
# The system follows a Champion / Challenger MLOps workflow:
#
#   train → test → promote → unseen → feedback → retrain
#
# ======================================================


# ------------------------------------------------------
# Candidate Models (Baseline + Challenger)
# ------------------------------------------------------

models:

  # Baseline candidate: Logistic Regression
  logistic:
    enabled: true
    max_iter: 1000

  # Challenger candidate: Random Forest
  forest:
    enabled: true
    n_estimators: 200
    max_depth: 5
    random_state: 42


# ------------------------------------------------------
# Operational Risk Thresholds (Inference)
# ------------------------------------------------------

risk_thresholds:

  # Risk scores produced by the classifier are mapped into
  # qualitative operational levels

  # Scores below this value are considered LOW risk
  low: 0.20

  # Scores between LOW and MEDIUM are considered MEDIUM risk
  medium: 0.60

  # Scores above MEDIUM are considered HIGH risk
  # (implicit: > medium)


# ------------------------------------------------------
# Continuous Training Governance (MLOps Policies)
# ------------------------------------------------------

mlops:

  # Champion is selected by maximizing recall on the RISKY class
  min_recall_risky: 0.30

  # Retraining starts only if at least N unseen examples have been
  # collected into the feedback pool
  feedback_trigger_size: 2

  # If no champion model is available yet (fresh repository or after reset)
  # SpecLens-PML automatically retrains candidates and promotes an initial champion to enable serving
  retrain_if_no_champion: true

  # A new candidate is promoted only if it improves over the current champion
  promote_only_if_better: true

  # Reproducibility option
  deterministic_runs: false

